(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{113:function(e,t,n){"use strict";n.r(t);var a=n(241),r=n(242),o=n(243),i=n(7),l=n.n(i),c=n(6),u=n(0),s=n.n(u),g=n(12),d=n.n(g),f=n(34),m=n(18),p=n(78),h=n(5),b=n(37),v={settings:[]},E=n(19),S={user:[]},y=n(32),w={languages:[],language:[]},I=n(71),O={orders:[]},j=n(68),T={single_order:[]},A=n(69),N={dashboard:[]},C=n(39),x={menu:[],inactive_items:[]},L=n(42),_={alerts:[],alertUnreadTotal:0},P=Object(m.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.a:return Object(h.a)({},e,{settings:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a:case E.c:case E.b:return Object(h.a)({},e,{user:t.payload});default:return e}},languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.a:return Object(h.a)({},e,{languages:t.payload});case y.b:return Object(h.a)({},e,{language:t.payload});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.a:return Object(h.a)({},e,{orders:t.payload});default:return e}},single_order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a:return Object(h.a)({},e,{single_order:t.payload});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.a:return Object(h.a)({},e,{dashboard:t.payload});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a:return Object(h.a)({},e,{menu:t.payload});case C.b:return Object(h.a)({},e,{inactive_items:t.payload});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.a:return Object(h.a)({},e,{alerts:t.payload});case L.b:return Object(h.a)({},e,{alertUnreadTotal:t.payload});default:return e}}}),k=function(e){e=JSON.parse(window.localStorage.getItem("state"))||e;var t=[p.a],n=Object(m.e)(P,e,Object(m.d)(m.a.apply(void 0,t)));return n.subscribe(function(){var e=n.getState();for(var t in e.settings.settings)if(e.settings.settings.hasOwnProperty(t)){var a=e.settings.settings[t];localStorage.setItem(a.key,a.value)}for(var r in e.languages.language)if(e.languages.language.hasOwnProperty(r)){var o=e.languages.language[r];localStorage.setItem(r,o)}var i={user:e.user,languages:e.languages,settings:e.settings,orders:e.order,single_order:e.single_order,dashboard:e.dashboard,menu:e.menu,alerts:e.alerts};localStorage.setItem("state",JSON.stringify(i))}),n},G=n(43),R=n.n(G),D=n(79),U=n(22),V=n(23),M=n(25),F=n(24),B=n(26),z=n(15),J=n.n(z),q=n(61),H=n(56),W=n(62);function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Q=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(M.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={updating:!1},n}return Object(B.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.a.get("/version.json").then(function(t){var n=t.data.forceNewSettingsVersion,a=t.data.forceCacheClearVersion;if(null===localStorage.getItem("forceNewSettingsVersion")&&null===localStorage.getItem("forceCacheClearVersion"))localStorage.setItem("forceNewSettingsVersion",n),localStorage.setItem("forceCacheClearVersion",a);else if(localStorage.getItem("forceNewSettingsVersion")!==n&&(console.warn("Getting New Settings"),e.props.getSettings(),localStorage.setItem("forceNewSettingsVersion",n)),localStorage.getItem("forceCacheClearVersion")!==a){var r=function(){var e=Object(D.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.next=4,i();case 4:return e.next=6,l();case 6:return e.next=8,c();case 8:return e.next=10,u();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o=function(){return new Promise(function(e){console.warn("Clear Local Storage");var t=localStorage.getItem("geoLocation"),n=localStorage.getItem("userSetAddress"),a=localStorage.getItem("storeAppPrimaryColor"),r=localStorage.getItem("storeLogo"),o=localStorage.getItem("updatingMessage"),i=localStorage.getItem("userPreferedLanguage"),l=null!==localStorage.getItem("activeRestaurant")?localStorage.getItem("activeRestaurant"):1;localStorage.clear(),null!==t&&localStorage.setItem("geoLocation",t),null!==n&&localStorage.setItem("userSetAddress",n),localStorage.setItem("storeAppPrimaryColor",a),localStorage.setItem("storeLogo",r),localStorage.setItem("updatingMessage",o),localStorage.setItem("activeRestaurant",l),null!==i&&localStorage.setItem("userPreferedLanguage",i),e("Completed clearLocalStorage")})},i=function(){return new Promise(function(e){console.warn("Clear Cache Storage"),navigator.serviceWorker.getRegistrations().then(function(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){t.value.unregister()}}catch(a){n.e(a)}finally{n.f()}}),caches&&caches.keys().then(function(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;caches.delete(a)}}catch(r){n.e(r)}finally{n.f()}}),e("Completed clearCacheStorage")})},l=function(){return new Promise(function(t){console.warn("Fetch Settings and Translations"),e.props.getSettings(),null!==localStorage.getItem("userPreferedLanguage")?(e.props.getSingleLanguageData(localStorage.getItem("userPreferedLanguage")),t("Completed fetchSettingsAndLanguage")):e.props.getAllLanguages().then(function(n){console.log(n),console.log("Fetching Translation Data...");var a=n.payload.filter(function(e){return 1===e.is_default})[0].id;e.props.getSingleLanguageData(a).then(function(){t("Completed fetchSettingsAndLanguage")})})})},c=function(){return new Promise(function(e){console.warn("Update Client Version"),localStorage.setItem("forceNewSettingsVersion",n),localStorage.setItem("forceCacheClearVersion",a),e("Completed updateClientVersion")})},u=function(){return new Promise(function(t){setTimeout(function(){e.setState({updating:!1},function(){window.location.reload(!0),t("Completed reloadBrowser")})},3e3)})};e.setState({updating:!0}),r()}})}},{key:"render",value:function(){var e=this.state.updating;return s.a.createElement(s.a.Fragment,null,e&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"update-full-notification"},s.a.createElement("span",{className:"spin-load"})),s.a.createElement("div",{className:"update-full-notification",style:{zIndex:9999999999}},s.a.createElement("h1",{className:"d-flex",style:{marginTop:"8rem"}},localStorage.getItem("updatingMessage")))))}}]),t}(u.Component),X=Object(f.b)(function(e){return{settings:e.settings.settings}},{getSettings:q.a,getSingleLanguageData:H.b,getAllLanguages:H.a,logoutUser:W.b})(Q),Y=n(45),Z=n(217),ee=n(58),te=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-store-light")}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.add("bg-store-light")}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"bg-white"},s.a.createElement("div",{className:"d-flex justify-content-center mt-100 mb-20"},s.a.createElement("img",{className:"offline-mode-img text-center",src:"/assets/images/offline.png",alt:localStorage.getItem("offlineTitleMessage")})),s.a.createElement("h2",{className:"text-center font-w700 mb-3"},localStorage.getItem("offlineTitleMessage")),s.a.createElement("h2",{className:"text-muted text-center font-size-md"},localStorage.getItem("offlineSubTitleMessage"))))}}]),t}(u.Component),ne={enabled:!1},ae=function(e){var t=e.children,n=e.initialState,a=void 0===n?{}:n;return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{store:k(a)},s.a.createElement(ee.Online,{polling:ne},s.a.createElement("img",{className:"hidden",src:"/assets/images/offline.png",alt:"offline"}),s.a.createElement(Y.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3,TransitionComponent:Z.a},s.a.createElement(X,null),t)),s.a.createElement(ee.Offline,{polling:ne},s.a.createElement(te,null))))},re=l()({loader:function(){return Promise.all([n.e(24),n.e(6)]).then(n.bind(null,218))},loading:function(){return s.a.createElement(c.a,null)}}),oe=l()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(7)]).then(n.bind(null,234))},loading:function(){return s.a.createElement(c.a,null)}}),ie=l()({loader:function(){return Promise.all([n.e(23),n.e(8)]).then(n.bind(null,224))},loading:function(){return s.a.createElement(c.a,null)}}),le=l()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,239))},loading:function(){return s.a.createElement(c.a,null)}}),ce=l()({loader:function(){return Promise.all([n.e(1),n.e(3),n.e(10)]).then(n.bind(null,225))},loading:function(){return s.a.createElement(c.a,null)}}),ue=l()({loader:function(){return Promise.all([n.e(0),n.e(4),n.e(25),n.e(11)]).then(n.bind(null,226))},loading:function(){return s.a.createElement(c.a,null)}}),se=l()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(12)]).then(n.bind(null,240))},loading:function(){return s.a.createElement(c.a,null)}}),ge=l()({loader:function(){return n.e(13).then(n.bind(null,227))},loading:function(){return s.a.createElement(c.a,null)}}),de=l()({loader:function(){return Promise.all([n.e(4),n.e(14)]).then(n.bind(null,228))},loading:function(){return s.a.createElement(c.a,null)}}),fe=l()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(15)]).then(n.bind(null,229))},loading:function(){return s.a.createElement(c.a,null)}}),me=l()({loader:function(){return Promise.all([n.e(21),n.e(16)]).then(n.bind(null,230))},loading:function(){return s.a.createElement(c.a,null)}}),pe=l()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(22),n.e(17)]).then(n.bind(null,231))},loading:function(){return s.a.createElement(c.a,null)}}),he=l()({loader:function(){return Promise.all([n.e(1),n.e(3),n.e(18)]).then(n.bind(null,232))},loading:function(){return s.a.createElement(c.a,null)}}),be=l()({loader:function(){return n.e(19).then(n.bind(null,233))},loading:function(){return s.a.createElement(c.a,null)}});d.a.render(s.a.createElement(ae,null,s.a.createElement(a.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a,{component:function(){return window.scrollTo(0,0),null}}),s.a.createElement(o.a,null,s.a.createElement(r.a,{path:"/",exact:!0,component:oe}),s.a.createElement(r.a,{path:"/store-selection",exact:!0,component:ie}),s.a.createElement(r.a,{path:"/login",exact:!0,component:re}),s.a.createElement(r.a,{path:"/order/:order_id",exact:!0,component:le}),s.a.createElement(r.a,{path:"/order/:order_id/print",exact:!0,component:pe}),s.a.createElement(r.a,{path:"/search-items",exact:!0,component:ce}),s.a.createElement(r.a,{path:"/search-orders",exact:!0,component:ue}),s.a.createElement(r.a,{path:"/notifications",exact:!0,component:se}),s.a.createElement(r.a,{path:"/ratings",exact:!0,component:de}),s.a.createElement(r.a,{path:"/earnings",exact:!0,component:fe}),s.a.createElement(r.a,{path:"/settings",exact:!0,component:me}),s.a.createElement(r.a,{path:"/inactive-items",exact:!0,component:he}),s.a.createElement(r.a,{path:"/pages/:slug",exact:!0,component:be}),s.a.createElement(r.a,{component:ge}))))),document.getElementById("root"))},17:function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"o",function(){return i}),n.d(t,"r",function(){return l}),n.d(t,"w",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"p",function(){return s}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return d}),n.d(t,"v",function(){return f}),n.d(t,"u",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"j",function(){return b}),n.d(t,"B",function(){return v}),n.d(t,"x",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"l",function(){return y}),n.d(t,"y",function(){return w}),n.d(t,"e",function(){return I}),n.d(t,"s",function(){return O}),n.d(t,"t",function(){return j}),n.d(t,"m",function(){return T}),n.d(t,"h",function(){return A}),n.d(t,"z",function(){return N}),n.d(t,"D",function(){return C}),n.d(t,"C",function(){return x}),n.d(t,"i",function(){return L}),n.d(t,"q",function(){return _}),n.d(t,"A",function(){return P});var a=n(3),r=a.a+"/public/api/get-settings",o=a.a+"/public/api/store-owner/get-all-language",i=a.a+"/public/api/store-owner/get-single-language",l=a.a+"/public/api/store-owner/login",c=a.a+"/public/api/register",u=a.a+"/public/api/store-owner/get-orders",s=a.a+"/public/api/store-owner/get-single-order",g=a.a+"/public/api/store-owner/cancel-order",d=a.a+"/public/api/store-owner/accept-order",f=a.a+"/public/api/store-owner/mark-selfpickup-order-ready",m=a.a+"/public/api/store-owner/mark-selfpickup-order-completed",p=a.a+"/public/api/store-owner/confirm-scheduled-order",h=a.a+"/public/api/store-owner/dashboard",b=a.a+"/public/api/store-owner/get-menu",v=a.a+"/public/api/store-owner/toggle-item-status",E=a.a+"/public/api/store-owner/search-items",S=a.a+"/public/api/store-owner/edit-item",y=a.a+"/public/api/store-owner/get-past-orders",w=a.a+"/public/api/store-owner/search-orders",I=a.a+"/public/api/get-user-notifications",O=a.a+"/public/api/mark-all-notifications-read",j=a.a+"/public/api/mark-one-notification-read",T=a.a+"/public/api/store-owner/get-ratings",A=a.a+"/public/api/store-owner/get-earnings",N=a.a+"/public/api/store-owner/send-payout-request",C=a.a+"/public/api/store-owner/update-item",x=a.a+"/public/api/store-owner/toggle-store-status",L=a.a+"/public/api/store-owner/get-inactive-items",_=a.a+"/public/api/store-owner/get-store-page",P=a.a+"/public/api/store-owner/toggle-category-status"},19:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o});var a="LOGIN_USER",r="REGISTER_USER",o="LOGOUT_USER"},3:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="https://food.totalfresh.co"},32:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="GET_ALL_LANGUAGES",r="GET_SINGLE_LANGUAGE_DATA"},37:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="GET_SETTINGS"},39:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="GET_MENU",r="INACTIVE_ITEMS"},42:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="GET_ALERTS",r="SET_ALERT_UNREAD_TOTAL"},56:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var a=n(32),r=n(15),o=n.n(r),i=n(17),l=function(){return function(e){return o.a.get(i.f).then(function(t){var n=t.data;return e({type:a.a,payload:n})}).catch(function(e){console.log(e)})}},c=function(e){return function(t){return o.a.get(i.o+"/"+e).then(function(e){var n=e.data;return t({type:a.b,payload:n})}).catch(function(e){console.log(e)})}}},6:function(e,t,n){"use strict";var a=n(22),r=n(23),o=n(25),i=n(24),l=n(26),c=n(0),u=n.n(c),s=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"height-100 overlay-loading ongoing-payment-spin"},u.a.createElement("div",{className:"spin-load"})))}}]),t}(c.Component);t.a=s},61:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(37),r=n(17),o=n(15),i=n.n(o),l=function(){return function(e){return i.a.post(r.n).then(function(t){var n=t.data;return e({type:a.a,payload:n})}).catch(function(e){console.log(e)})}}},62:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var a=n(19),r=n(17),o=n(15),i=n.n(o),l=function(e,t){return function(n){i.a.post(r.r,{email:e,password:t}).then(function(e){var t=e.data;return n({type:a.a,payload:t})}).catch(function(e){console.log(e)})}},c=function(){return function(e){return localStorage.removeItem("storeTabIndex"),[e({type:a.b,payload:[]})]}}},68:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="GET_SINGLE_ORDER"},69:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="GET_DASHBOARD_DATA"},71:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="GET_ORDERS"},84:function(e,t,n){e.exports=n(113)}},[[84,26,20]]]);