(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{131:function(e,t,a){"use strict";var n=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(a(0)),o=!1;"undefined"!=typeof window&&(o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var r=o,i={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"};function s(e,t,a,n){return a*((e=e/n-1)*e*e*e*e+1)+t}var l=Math.sqrt(2),c=Math.cos,u=Math.max,m=Math.min;function d(e){return m(e.duration,Date.now()-e.mouseDown)}function p(e){return 0<e.mouseUp?Date.now()-e.mouseUp:0}function h(e){var t=e.duration,a=e.radius,n=.85*s(d(e),0,a,t),o=.15*s(p(e),0,a,t),r=.02*a*c(Date.now()/t);return u(0,n+o+r)}function g(e,t,a){return a||m(.6*u(e,t))}function f(e,t){return s(p(e),t,-t,e.duration)}function b(e,t){return m(f(e,t),s(d(e),0,.3,3*e.duration))}function y(e,t,a){return m(1,h(e)/t*2/l)*(a/2-e.x)}function E(e,t,a){return m(1,h(e)/t*2/l)*(a/2-e.y)}function v(e){return h(e)/e.radius}var S=function(e){var t=e.mouseUp,a=e.duration;return!t||Date.now()-t<a};function x(e){var t,a=[],n=!1,o={each:function(e,t){for(var n=0,o=a.length;n<o;n++)e.call(t,a[n])},play:function(){n||(n=!0,o.update())},stop:function(){n=!1,cancelAnimationFrame(t)},getTotalOpacity:function(e){for(var t=0,n=0,o=a.length;n<o;n++)t+=b(a[n],e);return t},update:function(){(a=a.filter(S)).length?t=requestAnimationFrame(o.update):o.stop(),e()},add:function(e){a.push(e),o.play()},release:function(e){for(var t=a.length-1;0<=t;t--)if(!a[t].mouseUp)return a[t].mouseUp=e}};return o}function w(){for(var e=arguments,t={},a=0;a<arguments.length;a++){var n=e[a];if(n)for(var o in n)t[o]=n[o]}return t}var k=2*Math.PI,P={background:!0,className:"ink",duration:1e3,opacity:.25,recenter:!0,hasTouch:r},N=function(e){function t(t){e.apply(this,arguments),this.state={color:"transparent",density:1,height:0,store:x(this.tick.bind(this)),width:0},this.touchEvents=this.touchEvents()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.touchEvents=function(){return this.props.hasTouch?{onTouchStart:this.t.bind(this),onTouchEnd:this.n.bind(this),onTouchCancel:this.n.bind(this)}:{onMouseDown:this.t.bind(this),onMouseUp:this.n.bind(this),onMouseLeave:this.n.bind(this)}},t.prototype.tick=function(){var e=this.state,t=e.ctx,a=e.color,n=e.density,o=e.height,r=e.width,i=e.store;t.save(),t.scale(n,n),t.clearRect(0,0,r,o),t.fillStyle=a,this.props.background&&(t.globalAlpha=i.getTotalOpacity(this.props.opacity),t.fillRect(0,0,r,o)),i.each(this.makeBlot,this),t.restore()},t.prototype.makeBlot=function(e){var t=this.state,a=t.ctx,n=t.height,o=t.width,r=e.x,i=e.y,s=e.radius;if(a.globalAlpha=f(e,this.props.opacity),a.beginPath(),this.props.recenter){var l=Math.max(n,o);r+=y(e,l,o),i+=E(e,l,n)}a.arc(r,i,s*v(e),0,k),a.closePath(),a.fill()},t.prototype.componentWillUnmount=function(){this.state.store.stop()},t.prototype.pushBlot=function(e,t,a){var n=this,o=this.canvas;o.getDOMNode&&"function"==typeof o.getDOMNode&&(o=o.getDOMNode());var r=o.getBoundingClientRect(),i=r.top,s=r.bottom,l=r.left,c=r.right,u=window.getComputedStyle(o).color,m=this.state.ctx||o.getContext("2d"),d=function(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}(m),p=s-i,h=c-l,f=g(p,h,this.props.radius);this.setState({color:u,ctx:m,density:d,height:p,width:h},function(){n.state.store.add({duration:n.props.duration,mouseDown:e,mouseUp:0,radius:f,x:t-l,y:a-i})})},t.prototype.setCanvas=function(e){this.canvas=e},t.prototype.render=function(){var e=this.state,t=e.density,a=e.height,o=e.width,r=this.props,s=r.className,l=r.style,c=w({className:s,ref:this.setCanvas.bind(this),height:a*t,width:o*t,onDragOver:this.n,style:w(i,l)},this.touchEvents);return n.createElement("canvas",c)},t.prototype.t=function(e){var t=e.button,a=e.ctrlKey,n=e.clientX,o=e.clientY,r=e.changedTouches,i=Date.now();if(r)for(var s=0;s<r.length;s++){var l=r[s],c=l.clientX,u=l.clientY;this.pushBlot(i,c,u)}else 0!==t||a||this.pushBlot(i,n,o)},t.prototype.n=function(){this.state.store.release(Date.now())},t}(n.PureComponent);N.defaultProps=P,e.exports=N},166:function(e,t,a){"use strict";var n=a(1),o=a(4),r=a(20),i=a(0),s=a(14),l=a(27),c=a(55),u=a(236),m=a(222),d=a(221),p=a(28),h=a(220),g={enter:p.b.enteringScreen,exit:p.b.leavingScreen},f=i.forwardRef(function(e,t){var a=e.BackdropProps,r=e.children,l=e.classes,p=e.className,f=e.disableBackdropClick,b=void 0!==f&&f,y=e.disableEscapeKeyDown,E=void 0!==y&&y,v=e.fullScreen,S=void 0!==v&&v,x=e.fullWidth,w=void 0!==x&&x,k=e.maxWidth,P=void 0===k?"sm":k,N=e.onBackdropClick,D=e.onClose,C=e.onEnter,B=e.onEntered,O=e.onEntering,_=e.onEscapeKeyDown,j=e.onExit,I=e.onExited,W=e.onExiting,M=e.open,R=e.PaperComponent,T=void 0===R?h.a:R,q=e.PaperProps,F=void 0===q?{}:q,A=e.scroll,Y=void 0===A?"paper":A,U=e.TransitionComponent,K=void 0===U?d.a:U,$=e.transitionDuration,X=void 0===$?g:$,G=e.TransitionProps,L=e["aria-describedby"],z=e["aria-labelledby"],H=Object(o.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),J=i.useRef();return i.createElement(u.a,Object(n.a)({className:Object(s.a)(l.root,p),BackdropComponent:m.a,BackdropProps:Object(n.a)({transitionDuration:X},a),closeAfterTransition:!0},b?{disableBackdropClick:b}:{},{disableEscapeKeyDown:E,onEscapeKeyDown:_,onClose:D,open:M,ref:t},H),i.createElement(K,Object(n.a)({appear:!0,in:M,timeout:X,onEnter:C,onEntering:O,onEntered:B,onExit:j,onExiting:W,onExited:I,role:"none presentation"},G),i.createElement("div",{className:Object(s.a)(l.container,l["scroll".concat(Object(c.a)(Y))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===J.current&&(J.current=null,N&&N(e),!b&&D&&D(e,"backdropClick"))},onMouseDown:function(e){J.current=e.target}},i.createElement(T,Object(n.a)({elevation:24,role:"dialog","aria-describedby":L,"aria-labelledby":z},F,{className:Object(s.a)(l.paper,l["paperScroll".concat(Object(c.a)(Y))],l["paperWidth".concat(Object(c.a)(String(P)))],F.className,S&&l.paperFullScreen,w&&l.paperFullWidth)}),r))))});t.a=Object(l.a)(function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(r.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(r.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(r.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(r.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(r.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(f)},229:function(e,t,a){"use strict";a.r(t);var n=a(22),o=a(23),r=a(25),i=a(24),s=a(26),l=a(0),c=a.n(l),u=a(6),m=a(15),d=a.n(m),p=a(17),h=a(34),g=a(131),f=a.n(g),b=a(166),y=a(148),E=a.n(y),v=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!0,data:[],sendPayoutDialog:!1},a.getPayoutStatusClass=function(e){return"PENDING"===e?"payoutStatus payoutStatus--pending":"PROCESSING"===e?"payoutStatus payoutStatus--processing":"COMPLETED"===e?"payoutStatus payoutStatus--completed":void 0},a.openSendPayoutDialog=function(){a.setState({sendPayoutDialog:!0})},a.closeSendPayoutDialog=function(){a.setState({sendPayoutDialog:!1})},a.cannotRequestPayout=function(){var e=localStorage.getItem("currencyFormat")+a.state.data.minPayout+" in earnings is needed for payout.";alert(e)},a.processRequestPayout=function(){a.setState({loading:!0}),d.a.post(p.z,{token:a.props.user.data.auth_token,store_id:localStorage.getItem("selected_store_id")}).then(function(e){e.data&&(e.data.success,a.setState({loading:!1}),a.closeSendPayoutDialog(),window.location.reload())})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.post(p.h,{token:this.props.user.data.auth_token,store_id:localStorage.getItem("selected_store_id")}).then(function(t){t.data&&e.setState({data:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data;return c.a.createElement(c.a.Fragment,null,a?c.a.createElement(u.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"pageTitle bg-primary-gradient"},localStorage.getItem("moreEarnings_title")),c.a.createElement("div",{className:"pageContents"},c.a.createElement("div",{className:"mx-15 p-3 mt-15"},c.a.createElement("div",{className:"col-md-12 payoutStatsSingleBlock payoutBalanceBeforeCommission mb-15 bg-white"},c.a.createElement("h4",{className:"mb-2"},localStorage.getItem("currencyFormat"),n.balanceBeforeCommission),c.a.createElement("span",null,localStorage.getItem("moreEarnings_earningsBeforeCommission"))),c.a.createElement("div",{className:"col-md-12 payoutStatsSingleBlock payoutBalanceAfterCommission mb-15 bg-white"},c.a.createElement("h4",{className:"mb-2"},localStorage.getItem("currencyFormat"),n.balanceAfterCommission),c.a.createElement("span",null,localStorage.getItem("moreEarnings_balance"))),c.a.createElement("div",{className:"col-md-12 payoutStatsSingleBlock payoutTotalEarning mb-15 bg-white"},c.a.createElement("h4",{className:"mb-2"},localStorage.getItem("currencyFormat"),n.totalEarning),c.a.createElement("span",null,localStorage.getItem("moreEarnings_salesBeforeCommission")))),n.payoutRequests.length>0&&c.a.createElement("div",{className:"mx-15 p-3 mt-15 mb-100"},c.a.createElement("h4",null,localStorage.getItem("moreEarnings_payoutRequests")),c.a.createElement("div",null,n.payoutRequests.map(function(t){return c.a.createElement("div",{key:t.id,className:"bg-white mb-15 p-3"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",{className:"payoutAmount"},localStorage.getItem("currencyFormat"),t.amount),c.a.createElement("div",{className:e.getPayoutStatusClass(t.status)},"COMPLETED"===t.status&&localStorage.getItem("moreEarnings_statusCompleted"),"PENDING"===t.status&&localStorage.getItem("moreEarnings_statusPending"),"PROCESSING"===t.status&&localStorage.getItem("moreEarnings_statusProcessing"))),null!==t.transaction_mode&&c.a.createElement("span",{className:"payoutTransactionMode"},t.transaction_mode),null!==t.transaction_id&&c.a.createElement("span",{className:"payoutTransactionId ml-1"}," ","- ",t.transaction_id),null!==t.message&&c.a.createElement("p",{className:"payoutMessage mb-0 text-muted"},t.message),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{className:"requestTimeBlock"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center small"},c.a.createElement("div",null,localStorage.getItem("moreEarnings_requestCreated")),c.a.createElement("div",null,c.a.createElement(E.a,{format:"DD/MM/YYYY hh:mma"},t.created_at))),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center small"},c.a.createElement("div",null,localStorage.getItem("moreEarnings_lastUpdate")),c.a.createElement("div",null,c.a.createElement(E.a,{format:"DD/MM/YYYY hh:mma"},t.updated_at)))))})))),n.canRequestForPayout?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"requestPayoutButton",onClick:this.openSendPayoutDialog},localStorage.getItem("moreEarnings_requestPayout"),c.a.createElement(f.a,{duration:"500",hasTouch:"true"})),c.a.createElement(b.a,{fullWidth:!0,fullScreen:!1,open:this.state.sendPayoutDialog,onClose:this.closeSendPayoutDialog,style:{width:"100%",margin:"auto"},PaperProps:{style:{backgroundColor:"#fff",borderRadius:"4px"}}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-12 py-3"},c.a.createElement("h1",{className:"mt-2 mb-2 font-weight-black h4 text-center"},"Confirmation"),c.a.createElement("hr",null),c.a.createElement("p",{className:"mb-1 text-center"},localStorage.getItem("moreEarnings_message")," ",c.a.createElement("span",{className:"font-w600 ml-1"},localStorage.getItem("currencyFormat"),n.balanceAfterCommission))),c.a.createElement("div",{className:"d-flex justify-content-around align-items-center mb-20 mt-10"},c.a.createElement("button",{className:"btn btn-md btn-default requestPayoutDialogBtn",onClick:this.closeSendPayoutDialog},localStorage.getItem("generalText_cancel")),c.a.createElement("button",{className:"btn btn-md requestPayoutDialogBtn btnRequestPayoutConfirm",onClick:this.processRequestPayout},localStorage.getItem("moreEarnings_sendRequest")))))):c.a.createElement("div",{className:"requestPayoutButton requestPayoutButton--disabled",onClick:this.cannotRequestPayout},"Request Payout",c.a.createElement(f.a,{duration:"500",hasTouch:"true"}))))}}]),t}(l.Component);t.default=Object(h.b)(function(e){return{user:e.user.user}},{})(v)}}]);