(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{136:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var r=a(22),n=a(23),o=a(25),c=a(24),s=a(26),l=a(219),i=a(0),u=a.n(i),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleClick=function(e){var t=a.props,r=t.replace,n=t.to,o=t.delay,c=t.onDelayStart,s=t.onDelayEnd,l=a.context.router.history;a.props.clickAction&&a.props.clickAction(),c(e,n),e.defaultPrevented||(e.preventDefault(),a.timeout=setTimeout(function(){r?l.replace(n):l.push(n),s(e,n)},o))},a.timeout=null,a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.delay,delete e.onDelayStart,delete e.onDelayEnd,delete e.clickAction,u.a.createElement(l.a,Object.assign({},e,{onClick:this.handleClick}))}}]),t}(i.Component);m.defaultProps={delay:0,onDelayStart:function(){},onDelayEnd:function(){}},m.contextTypes=l.a.contextTypes},141:function(e,t,a){"use strict";var r=a(22),n=a(23),o=a(25),c=a(24),s=a(26),l=a(0),i=a.n(l),u=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={orderStatusName:""},a.getOrderStatusName=function(e){switch(e){case 1:a.setState({orderStatusName:localStorage.getItem("generalText_orderPlaced")});break;case 2:a.setState({orderStatusName:localStorage.getItem("generalText_orderAccepted")});break;case 3:a.setState({orderStatusName:localStorage.getItem("generalText_deliveryGuyAssigned")});break;case 4:a.setState({orderStatusName:localStorage.getItem("generalText_orderPickedUp")});break;case 5:a.setState({orderStatusName:localStorage.getItem("generalText_orderCompleted")});break;case 6:a.setState({orderStatusName:localStorage.getItem("generalText_orderCanceled")});break;case 7:a.setState({orderStatusName:localStorage.getItem("generalText_orderReadyForPickup")});break;case 8:a.setState({orderStatusName:"Awaiting Payment"});break;case 9:a.setState({orderStatusName:"Payment Failed"});break;case 10:a.setState({orderStatusName:localStorage.getItem("generalText_orderScheduled")});break;case 11:a.setState({orderStatusName:localStorage.getItem("generalText_confirmedScheduledOrder")});break;default:a.setState({orderStatusName:"---"})}},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.getOrderStatusName(this.props.orderstatus_id)}},{key:"componentWillReceiveProps",value:function(e){this.props.orderstatus_id!==e.orderstatus_id&&this.getOrderStatusName(e.orderstatus_id)}},{key:"render",value:function(){return i.a.createElement("span",null,this.state.orderStatusName)}}]),t}(l.Component);t.a=u},143:function(e,t,a){"use strict";var r=a(22),n=a(23),o=a(25),c=a(24),s=a(26),l=a(0),i=a.n(l),u=a(131),m=a.n(u),d=a(67),g=a(134),h=a.n(g),p=(a(159),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={timer:null},a.componentDidMount=function(){a.startTimer(a.props.timestamp)},a.startTimer=function(e){var t=Object(d.a)(Object(d.a)(a)),r=h()(e),n=h()().diff(r,"second"),o="h"+("["+localStorage.getItem("time_hrs")+"]")+" m"+("["+localStorage.getItem("time_mins")+"]")+" s"+("["+localStorage.getItem("time_secs")+"]");t.setState({timer:h.a.duration(n,"seconds").format(o)}),a.timer=setInterval(function(){var e=h()().diff(r,"second");t.setState({timer:h.a.duration(e,"seconds").format(o)})},1e3)},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,null!==this.state.timer&&i.a.createElement("div",{className:"orderTimerWrapper"},this.state.timer))}}]),t}(l.Component)),f=a(136),S=a(141),v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).getTimeDifference=function(e){var t=h()(e.created_at),a=h()(e.updated_at),r=h.a.duration(h()(a).diff(h()(t))),n=Math.floor(r.asDays()),o=n?"".concat(n," ").concat(localStorage.getItem("time_days")," "):"",c=r.hours(),s=c?"".concat(c," ").concat(localStorage.getItem("time_hrs")," "):"",l=r.minutes();return[o,s,"".concat(l," ").concat(localStorage.getItem("time_mins"))].join("")},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.order;return i.a.createElement("div",{className:"singleOrderInList position-relative"},i.a.createElement(f.a,{to:"/order/".concat(e.id),delay:100,className:"w-100"},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("div",{className:"uniqueOrderId"},i.a.createElement("strong",null,e.unique_order_id)),i.a.createElement("div",{className:"orderTotal"},localStorage.getItem("currencyFormat"),e.total)),i.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-2"},i.a.createElement("div",{className:"mr-2"},5===e.orderstatus_id&&i.a.createElement("div",{className:"orderTimerWrapper"},"Completed in ",this.getTimeDifference(e)),6===e.orderstatus_id&&i.a.createElement("div",{className:"orderTimerWrapper"},"Cancelled in ",this.getTimeDifference(e)),5!==e.orderstatus_id&&6!==e.orderstatus_id&&i.a.createElement(p,{timestamp:e.created_at})),this.props.showOrderStatus?i.a.createElement("div",{className:"listSingleOrderStatus ".concat(6===e.orderstatus_id&&"listSingleOrderStatus--canceled")},i.a.createElement(S.a,{orderstatus_id:e.orderstatus_id})):i.a.createElement("div",{className:"font-w500 itemCount"},e.orderitems_count," ",e.orderitems_count>1?localStorage.getItem("orderListPage_ItemsText"):localStorage.getItem("orderListPage_ItemText"))),e.orderitems.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement("div",{className:"orderList-orderItemsPreview"},e.orderitems.map(function(e,t){return i.a.createElement(i.a.Fragment,{key:e.id},t<2&&i.a.createElement("span",{className:"mr-2 text-muted"},i.a.createElement("span",{className:"mr-1"},e.quantity,"x"),e.name))}),e.orderitems.length>2&&i.a.createElement("span",{className:"mr-2 text-muted"},e.orderitems.length-2," More"))),i.a.createElement(m.a,{duration:"500",hasTouch:"true"})))}}]),t}(l.Component);t.a=v},161:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e,t){var a;return function(){var r=arguments,n=this;clearTimeout(a),a=setTimeout(function(){return e.apply(n,r)},t)}}},226:function(e,t,a){"use strict";a.r(t);var r=a(22),n=a(23),o=a(25),c=a(24),s=a(26),l=a(0),i=a.n(l),u=a(161),m=a(6),d=a(15),g=a.n(d),h=a(17),p=a(34),f=a(143),S=a(162),v=a.n(S),y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={query:"",data:[],nothingFound:!1,searchedFor:""},a.handleInputChange=function(e){a.setState({query:e.target.value},function(){a.state.query.length>=3&&a.handleOrderSearch(a.state.query)})},a.handleOrderSearch=Object(u.a)(function(e){e.length>=3?(a.setState({queryLengthError:!1,loading:!0,nothingFound:!1,searchedFor:e}),g.a.post(h.y,{q:e,token:a.props.user.data.auth_token,store_id:localStorage.getItem("selected_store_id")}).then(function(e){e.data&&a.setState({data:e.data,loading:!1}),a.state.query.length<3&&a.setState({data:[]})})):a.setState({queryLengthError:!0})},400),a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.refs.orderSearchInput.focus()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.data,r=e.query;return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(m.a,null),i.a.createElement("div",{className:"pageTitle bg-primary-gradient"},localStorage.getItem("orderSearchPage_title")),i.a.createElement("div",{className:"pageContents"},i.a.createElement("div",{className:"mx-15"},i.a.createElement("input",{type:"text",placeholder:localStorage.getItem("generalText_searchWithOrderId"),onChange:this.handleInputChange,value:r,className:"orderSearchInput",ref:"orderSearchInput"}),r.length>0&&r.length<3&&i.a.createElement(v.a,null,i.a.createElement("p",{className:"text-muted mx-2 mt-2 mb-2"},localStorage.getItem("generalText_searchHelpMessage")))),i.a.createElement("div",{className:"itemSearchResultContainer mt-20"},a.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mx-15"},i.a.createElement("div",{className:"menuCategoryName mb-3"},"Results for: ",this.state.searchedFor),a.map(function(e){return i.a.createElement(f.a,{order:e,key:e.id,showOrderStatus:!0})}))))))}}]),t}(l.Component);t.default=Object(p.b)(function(e){return{user:e.user.user}},{})(y)}}]);